"use strict";(self.webpackChunkrinconada=self.webpackChunkrinconada||[]).push([[233],{84664:function(n,a,s){s.r(a),s.d(a,{default:function(){return f}});var i=s(74165),e=s(15861),o=s(29439),l=s(300),r=s(87309),t=s(72791),d=s(57689),u=s(38411),c=s(49278),v=s(37530),m=(s.p,s(87690),s(80184)),f=function(){var n=(0,d.s0)(),a=(0,t.useContext)(u.s),s=a.createData,f=(a.setUser,a.setPermisos),p=(a.user,a.permisos,a.cargando),g=(a.setCargando,(0,t.useState)("")),h=(0,o.Z)(g,2),x=h[0],j=h[1],N=(0,t.useState)(""),C=(0,o.Z)(N,2),S=C[0],Z=C[1],k=function(){var n=(0,e.Z)((0,i.Z)().mark((function n(){var a,e,o,l,r,t,d,u,v,m;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={user:x,contrasenia:S},n.next=3,s(a,"auth");case 3:200===(e=n.sent).status?(localStorage.setItem("user",JSON.stringify(null===(o=e.data)||void 0===o?void 0:o.nombre)),localStorage.setItem("permisos",JSON.stringify(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(r=l.rol)||void 0===r?void 0:r.permisos[0])),localStorage.setItem("firma",JSON.stringify(null===(t=e.data)||void 0===t?void 0:t.foto)),f(null===e||void 0===e||null===(d=e.data)||void 0===d||null===(u=d.rol)||void 0===u?void 0:u.permisos),(0,c.q)(e.status,e.msg),b(null===e||void 0===e||null===(v=e.data)||void 0===v||null===(m=v.rol)||void 0===m?void 0:m.permisos)):(0,c.q)(e.status,e.msg);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),b=function(a){var s,i,e,o,l;return 1==(null===(s=a[0])||void 0===s?void 0:s.administracion)?n("/administracion"):1==(null===(i=a[0])||void 0===i?void 0:i.personal)?n("/personal"):1==(null===(e=a[0])||void 0===e?void 0:e.planillas)?n("/planilla"):1==(null===(o=a[0])||void 0===o?void 0:o.logistica)?n("/logistica"):1==(null===(l=a[0])||void 0===l?void 0:l.finanzas)?n("/finanzas"):void 0};return(0,m.jsx)("div",{className:"fondo-login",children:(0,m.jsx)("div",{className:"login",children:(0,m.jsxs)("section",{className:"login-form",children:[(0,m.jsx)("div",{className:"logo",children:(0,m.jsx)("img",{src:v,alt:""})}),(0,m.jsxs)("div",{className:"inputs",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"",children:"Usuario"}),(0,m.jsx)(l.Z,{className:"input-form",name:"user",placeholder:"Usuario",onChange:function(n){return j(n.target.value)}})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"",children:"Contrase\xf1a"}),(0,m.jsx)(l.Z.Password,{className:"input-form",name:"contrasenia",placeholder:"Contrase\xf1a",onChange:function(n){return Z(n.target.value)}})]})]}),(0,m.jsx)(r.ZP,{onClick:k,loading:!!p,children:"Iniciar Sesi\xf3n"})]})})})}}}]);
//# sourceMappingURL=233.11792cc7.chunk.js.map